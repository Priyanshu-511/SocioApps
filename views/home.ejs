<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Single Page Transitions</title>
  <link rel="stylesheet" href="/home.css" />
</head>
<body>
  <nav>
    <button onclick="showSection('home')">Home</button>
    <button onclick="showSection('search')">Search</button>
    <button onclick="showSection('upload')">Upload</button>
    <button onclick="showSection('account')">Account</button>
    <button  onclick="window.location.href='/'">Logout</button>
  </nav>

  <div class="sections">
    <section id="home">
      <h2>Recent Uploads</h2>
        <% if (files && files.length > 0) { %>
            <% files.forEach(file => { %>
                <% if (file.type === 'txt') { %>
                    <p><a href="<%= file.url %>"><%= file.name %></a> (Text)</p>
                <% } else if (file.type === 'mp4') { %>
                    <p><video src="<%= file.url %>" controls width="300">Video: <%= file.name %></video></p>
                <% } else { %>
                    <p><img src="<%= file.url %>" alt="<%= file.name %>" width="300"> (Image)</p>
                <% } %>
            <% }) %>
        <% } else { %>
            <p>No uploads yet</p>
        <% } %>
    </section>
    <section id="search">
      <h2>Search Users & Uploads</h2>
  
  <div class="search-container">
    <form id="searchForm">
      <input type="text" id="searchInput" placeholder="Search users or uploads..." required>
      <select id="searchType">
        <option value="">All</option>
        <option value="users">Users Only</option>
        <option value="uploads">Uploads Only</option>
      </select>
      <button type="submit">Search</button>
    </form>
  </div>
  
  <div id="searchResults" style="display: none;">
    <h3>Search Results</h3>
    <div id="resultsContainer"></div>
  </div>
  
  <div id="userProfile" style="display: none;">
    <button onclick="showSearchResults()">‚Üê Back to Search</button>
    <h3 id="profileUsername"></h3>
    <div id="userUploads"></div>
  </div>
    </section>
    <section id="upload">        
        <form action="/upload" method="POST" enctype="multipart/form-data">
          <button type="submit">Upload</button> <br>
            <input type="file" name="file" accept="image/*,video/mp4,text/plain"><br>
            <input type="text" name="title" placeholder="Title" required><br>
            <textarea name="description" placeholder="Description" required></textarea><br>
        </form>
    </section>
    <section id="account">

       <h6><%= message %></h6>
        <% if (error) { %>
            <p><%= error %></p>
        <% } %>

    </section>
  </div>

  <script src="/home.js"></script>
  <script src="/work.js"></script>
</body>
</html>
